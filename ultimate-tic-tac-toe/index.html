
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ultimate Tic Tac Toe</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #6c5ce7;
      --secondary: #a29bfe;
      --accent: #fd79a8;
      --light: #f8f9fa;
      --dark: #2d3436;
      --success: #00b894;
      --danger: #d63031;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    .container {
      width: 100%;
      max-width: 600px;
      background-color: white;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      padding: 30px;
      position: relative;
      overflow: hidden;
    }

    h1 {
      color: var(--primary);
      text-align: center;
      margin-bottom: 20px;
      font-weight: 800;
      font-size: 2.5rem;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
    }

    .game-info {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
      background-color: var(--light);
      padding: 15px;
      border-radius: 10px;
      box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.05);
    }

    .player-turn {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--dark);
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .player-turn i {
      font-size: 1.5rem;
    }

    .x-turn {
      color: var(--primary);
    }

    .o-turn {
      color: var(--accent);
    }

    .scoreboard {
      display: flex;
      gap: 15px;
    }

    .score {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 8px 15px;
      border-radius: 8px;
      background-color: white;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    .score-label {
      font-size: 0.8rem;
      font-weight: 600;
      color: var(--dark);
      opacity: 0.7;
    }

    .score-value {
      font-size: 1.2rem;
      font-weight: 700;
    }

    .x-score {
      color: var(--primary);
    }

    .o-score {
      color: var(--accent);
    }

    .tie-score {
      color: var(--dark);
    }

    .game-board {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      grid-template-rows: repeat(3, 1fr);
      gap: 10px;
      margin-bottom: 25px;
    }

    .cell {
      aspect-ratio: 1;
      background-color: var(--light);
      border-radius: 15px;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      font-size: 4rem;
      font-weight: 700;
      transition: all 0.3s ease;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      position: relative;
      overflow: hidden;
    }

    .cell:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
    }

    .cell.x {
      color: var(--primary);
    }

    .cell.o {
      color: var(--accent);
    }

    .cell.winner {
      animation: pulse 1.5s infinite;
      background-color: rgba(0, 184, 148, 0.1);
    }

    @keyframes pulse {
      0% {
        box-shadow: 0 0 0 0 rgba(0, 184, 148, 0.4);
      }

      70% {
        box-shadow: 0 0 0 10px rgba(0, 184, 148, 0);
      }

      100% {
        box-shadow: 0 0 0 0 rgba(0, 184, 148, 0);
      }
    }

    .controls {
      display: flex;
      justify-content: center;
      gap: 15px;
    }

    button {
      border: none;
      padding: 12px 25px;
      border-radius: 50px;
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .reset-btn {
      background-color: var(--primary);
      color: white;
    }

    .reset-btn:hover {
      background-color: #5649c9;
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    }

    .new-game-btn {
      background-color: var(--accent);
      color: white;
    }

    .new-game-btn:hover {
      background-color: #fc6ba9;
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    }

    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 100;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }

    .modal.show {
      opacity: 1;
      pointer-events: all;
    }

    .modal-content {
      background-color: white;
      padding: 30px;
      border-radius: 20px;
      text-align: center;
      max-width: 400px;
      width: 90%;
      transform: scale(0.8);
      transition: transform 0.3s ease;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
    }

    .modal.show .modal-content {
      transform: scale(1);
    }

    .modal-content h2 {
      font-size: 2rem;
      margin-bottom: 15px;
      color: var(--primary);
    }

    .modal-content p {
      font-size: 1.2rem;
      margin-bottom: 25px;
      color: var(--dark);
    }

    .winner-icon {
      font-size: 4rem;
      margin-bottom: 20px;
    }

    .x-winner {
      color: var(--primary);
    }

    .o-winner {
      color: var(--accent);
    }

    .tie-game {
      color: var(--dark);
    }

    .confetti {
      position: absolute;
      width: 10px;
      height: 10px;
      background-color: #f00;
      opacity: 0;
    }

    @media (max-width: 500px) {
      h1 {
        font-size: 2rem;
      }

      .cell {
        font-size: 3rem;
      }

      .game-info {
        flex-direction: column;
        gap: 15px;
      }

      .controls {
        flex-direction: column;
      }

      button {
        width: 100%;
        justify-content: center;
      }
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>Ultimate Tic Tac Toe</h1>

    <div class="game-info">
      <div class="player-turn x-turn">
        <i class="fas fa-times"></i>
        <span>Player X's Turn</span>
      </div>

      <div class="scoreboard">
        <div class="score">
          <div class="score-label">X Wins</div>
          <div class="score-value x-score">0</div>
        </div>
        <div class="score">
          <div class="score-label">O Wins</div>
          <div class="score-value o-score">0</div>
        </div>
        <div class="score">
          <div class="score-label">Ties</div>
          <div class="score-value tie-score">0</div>
        </div>
      </div>
    </div>

    <div class="game-board">
      <div class="cell" data-index="0"></div>
      <div class="cell" data-index="1"></div>
      <div class="cell" data-index="2"></div>
      <div class="cell" data-index="3"></div>
      <div class="cell" data-index="4"></div>
      <div class="cell" data-index="5"></div>
      <div class="cell" data-index="6"></div>
      <div class="cell" data-index="7"></div>
      <div class="cell" data-index="8"></div>
    </div>

    <div class="controls">
      <button class="reset-btn">
                <i class="fas fa-undo"></i>
                Reset Game
            </button>
      <button class="new-game-btn">
                <i class="fas fa-plus-circle"></i>
                New Game
            </button>
    </div>
  </div>

  <div class="modal">
    <div class="modal-content">
      <div class="winner-icon x-winner">
        <i class="fas fa-times"></i>
      </div>
      <h2>Player X Wins!</h2>
      <p>Congratulations on your victory!</p>
      <button class="new-game-btn">
                <i class="fas fa-plus-circle"></i>
                Play Again
            </button>
    </div>
  </div>

  <audio id="clickSound" src="https://assets.codepen.io/337485/snakeEat.mp3"></audio>
  <audio id="winSound" src="https://assets.codepen.io/337485/snakeVictory.mp3"></audio>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
            // Game state
            let board = ['', '', '', '', '', '', '', '', ''];
            let currentPlayer = 'X';
            let gameActive = true;
            let scores = {
                X: 0,
                O: 0,
                T: 0
            };
            
            // DOM elements
            const cells = document.querySelectorAll('.cell');
            const playerTurnDisplay = document.querySelector('.player-turn');
            const xScoreDisplay = document.querySelector('.x-score');
            const oScoreDisplay = document.querySelector('.o-score');
            const tieScoreDisplay = document.querySelector('.tie-score');
            const resetBtn = document.querySelector('.reset-btn');
            const newGameBtn = document.querySelector('.new-game-btn');
            const modal = document.querySelector('.modal');
            const modalContent = document.querySelector('.modal-content');
            const winnerIcon = document.querySelector('.winner-icon');
            const winnerText = document.querySelector('.modal-content h2');
            const modalNewGameBtn = document.querySelector('.modal-content .new-game-btn');
            const clickSound = document.getElementById('clickSound');
            const winSound = document.getElementById('winSound');
            
            // Winning combinations
            const winningCombinations = [
                [0, 1, 2], [3, 4, 5], [6, 7, 8], // rows
                [0, 3, 6], [1, 4, 7], [2, 5, 8], // columns
                [0, 4, 8], [2, 4, 6]             // diagonals
            ];
            
            // Initialize game
            function initGame() {
                board = ['', '', '', '', '', '', '', '', ''];
                gameActive = true;
                currentPlayer = 'X';
                updatePlayerTurnDisplay();
                
                // Clear cells
                cells.forEach(cell => {
                    cell.classList.remove('x', 'o', 'winner');
                    cell.textContent = '';
                });
                
                // Hide modal
                modal.classList.remove('show');
            }
            
            // Update player turn display
            function updatePlayerTurnDisplay() {
                playerTurnDisplay.className = 'player-turn';
                playerTurnDisplay.classList.add(currentPlayer === 'X' ? 'x-turn' : 'o-turn');
                
                const icon = currentPlayer === 'X' ? 'fas fa-times' : 'far fa-circle';
                playerTurnDisplay.innerHTML = `<i class="${icon}"></i><span>Player ${currentPlayer}'s Turn</span>`;
            }
            
            // Handle cell click
            function handleCellClick(e) {
                const cell = e.target;
                const cellIndex = parseInt(cell.getAttribute('data-index'));
                
                // If cell is already filled or game is not active, return
                if (board[cellIndex] !== '' || !gameActive) return;
                
                // Play sound
                clickSound.currentTime = 0;
                clickSound.play();
                
                // Update board
                board[cellIndex] = currentPlayer;
                cell.textContent = currentPlayer;
                cell.classList.add(currentPlayer.toLowerCase());
                
                // Check for win or tie
                checkGameStatus();
                
                // Switch player
                if (gameActive) {
                    currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
                    updatePlayerTurnDisplay();
                }
            }
            
            // Check game status for win or tie
            function checkGameStatus() {
                let roundWon = false;
                
                // Check all winning combinations
                for (let i = 0; i < winningCombinations.length; i++) {
                    const [a, b, c] = winningCombinations[i];
                    
                    if (board[a] && board[a] === board[b] && board[a] === board[c]) {
                        roundWon = true;
                        
                        // Highlight winning cells
                        cells[a].classList.add('winner');
                        cells[b].classList.add('winner');
                        cells[c].classList.add('winner');
                        break;
                    }
                }
                
                // If won
                if (roundWon) {
                    // Play win sound
                    winSound.currentTime = 0;
                    winSound.play();
                    
                    // Update score
                    scores[currentPlayer]++;
                    updateScoreDisplay();
                    
                    // Show win modal
                    showResultModal(currentPlayer);
                    gameActive = false;
                    return;
                }
                
                // If tie
                if (!board.includes('')) {
                    scores['T']++;
                    updateScoreDisplay();
                    showResultModal('T');
                    gameActive = false;
                }
            }
            
            // Update score display
            function updateScoreDisplay() {
                xScoreDisplay.textContent = scores['X'];
                oScoreDisplay.textContent = scores['O'];
                tieScoreDisplay.textContent = scores['T'];
            }
            
            // Show result modal
            function showResultModal(winner) {
                // Update modal content
                winnerIcon.className = 'winner-icon';
                if (winner === 'X') {
                    winnerIcon.classList.add('x-winner');
                    winnerIcon.innerHTML = '<i class="fas fa-times"></i>';
                    winnerText.textContent = 'Player X Wins!';
                    modalContent.querySelector('p').textContent = 'Congratulations on your victory!';
                    createConfetti();
                } else if (winner === 'O') {
                    winnerIcon.classList.add('o-winner');
                    winnerIcon.innerHTML = '<i class="far fa-circle"></i>';
                    winnerText.textContent = 'Player O Wins!';
                    modalContent.querySelector('p').textContent = 'Amazing play! Well done!';
                    createConfetti();
                } else {
                    winnerIcon.classList.add('tie-game');
                    winnerIcon.innerHTML = '<i class="fas fa-handshake"></i>';
                    winnerText.textColor = '#2d3436'
                    winnerText.textContent = 'Game Tied!';
                    modalContent.querySelector('p').textContent = 'It was a tough battle! Try again!';
                }
                
                // Show modal
                modal.classList.add('show');
            }
            
            // Create confetti effect
            function createConfetti() {
                const colors = ['#6c5ce7', '#a29bfe', '#fd79a8', '#00b894', '#fdcb6e', '#e17055'];
                
                for (let i = 0; i < 100; i++) {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.top = Math.random() * -100 + 'vh';
                    
                    const animationDuration = Math.random() * 3 + 2;
                    confetti.style.animation = `fall ${animationDuration}s linear forwards`;
                    
                    document.body.appendChild(confetti);
                    
                    // Remove confetti after animation
                    setTimeout(() => {
                        confetti.remove();
                    }, animationDuration * 1000);
                }
                
                // Add CSS for falling animation
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes fall {
                        0% {
                            transform: translateY(-100vh) rotate(0deg);
                            opacity: 1;
                        }
                        100% {
                            transform: translateY(100vh) rotate(360deg);
                            opacity: 0;
                        }
                    }
                `;
                document.head.appendChild(style);
            }
            
            // Event listeners
            cells.forEach(cell => cell.addEventListener('click', handleCellClick));
            resetBtn.addEventListener('click', initGame);
            newGameBtn.addEventListener('click', () => {
                scores = { X: 0, O: 0, T: 0 };
                updateScoreDisplay();
                initGame();
            });
            modalNewGameBtn.addEventListener('click', initGame);
            
            // Initialize
            initGame();
        });
  </script>
</body>

</html>
